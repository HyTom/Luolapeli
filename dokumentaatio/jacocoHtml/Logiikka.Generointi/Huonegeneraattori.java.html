<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Huonegeneraattori.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Luolapeli</a> &gt; <a href="index.source.html" class="el_package">Logiikka.Generointi</a> &gt; <span class="el_source">Huonegeneraattori.java</span></div><h1>Huonegeneraattori.java</h1><pre class="source lang-java linenums">package Logiikka.Generointi;

import java.util.Random;

<span class="fc" id="L5">class Huonegeneraattori {</span>

    /**
     * Luo alueeseen satunnaisen huoneen.
     *
     * @param alue Alue johon huone halutaan luoda.
     */
    void luoHuone(Alue alue) {
<span class="fc bfc" id="L13" title="All 6 branches covered.">        if (alue.getPituusx() == 0 | alue.getPituusy() == 0) {</span>
<span class="fc" id="L14">            yksinainen(alue, alue.getHuone());</span>
        } else {
<span class="fc" id="L16">            Random r = new Random();</span>
<span class="fc" id="L17">            int a = r.nextInt(8);</span>
<span class="fc" id="L18">            int[][] huone = alue.getHuone();</span>
<span class="pc bpc" id="L19" title="5 of 8 branches missed.">            switch (a) {</span>
                case 0:
<span class="fc" id="L21">                    temppeli(alue, huone);</span>
<span class="fc" id="L22">                    break;</span>
                case 1:
<span class="nc" id="L24">                    isoinMahdollinen(alue, huone);</span>
<span class="nc" id="L25">                    break;</span>
                case 2:
<span class="nc" id="L27">                    pilareita(alue, huone);</span>
<span class="nc" id="L28">                    break;</span>
                case 3:
<span class="nc" id="L30">                    nelio(alue, huone);</span>
<span class="nc" id="L31">                    break;</span>
                case 4:
<span class="fc" id="L33">                    yksinainen(alue, huone);</span>
<span class="fc" id="L34">                    break;</span>
                case 5:
<span class="nc" id="L36">                    ristikko(alue, huone);</span>
<span class="nc" id="L37">                    break;</span>
                case 6:
<span class="fc" id="L39">                    ympyra(alue, huone);</span>
<span class="fc" id="L40">                    break;</span>
                default:
<span class="nc" id="L42">                    taysinRandom(r, alue, huone);</span>
                    break;
            }
        }
<span class="fc" id="L46">    }</span>

    private void taysinRandom(Random r, Alue alue, int[][] huone) {
<span class="nc" id="L49">        int rx = r.nextInt(alue.getPituusx());</span>
<span class="nc" id="L50">        int ry = r.nextInt(alue.getPituusy());</span>
<span class="nc bnc" id="L51" title="All 2 branches missed.">        for (int y = 1; y &lt; alue.getPituusy(); y++) {</span>
<span class="nc bnc" id="L52" title="All 2 branches missed.">            for (int x = 1; x &lt; alue.getPituusx(); x++) {</span>
<span class="nc bnc" id="L53" title="All 6 branches missed.">                if (x &gt;= rx &amp; y &gt;= ry) {</span>
<span class="nc" id="L54">                    huone[x][y] = 1;</span>
                }
            }
        }
<span class="nc" id="L58">    }</span>

    private void isoinMahdollinen(Alue alue, int[][] huone) {
<span class="nc bnc" id="L61" title="All 2 branches missed.">        for (int y = 0; y &lt; alue.getPituusy(); y++) {</span>
<span class="nc bnc" id="L62" title="All 2 branches missed.">            for (int x = 0; x &lt; alue.getPituusx(); x++) {</span>
<span class="nc" id="L63">                huone[x][y] = 1;</span>
            }
        }
<span class="nc" id="L66">    }</span>

    private void pilareita(Alue alue, int[][] huone) {
<span class="nc" id="L69">        int a = 1;</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">        for (int y = 0; y &lt; alue.getPituusy(); y++) {</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">            for (int x = 0; x &lt; alue.getPituusx(); x++) {</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">                if (a == 1) {</span>
<span class="nc" id="L73">                    huone[x][y] = 1;</span>
                } else {
<span class="nc bnc" id="L75" title="All 2 branches missed.">                    if (x % 2 == 0) {</span>
<span class="nc" id="L76">                        huone[x][y] = 1;</span>
                    }
                }
            }
<span class="nc bnc" id="L80" title="All 2 branches missed.">            if (a == 1) {</span>
<span class="nc" id="L81">                a = 0;</span>
            } else {
<span class="nc" id="L83">                a = 1;</span>
            }
        }
<span class="nc" id="L86">    }</span>

    private void nelio(Alue alue, int[][] huone) {
<span class="nc" id="L89">        int px = 0 + alue.getPituusx();</span>
<span class="nc" id="L90">        int py = 0 + alue.getPituusy();</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">        if (px &gt; py) {</span>
<span class="nc" id="L92">            px = py;</span>
        } else {
<span class="nc" id="L94">            py = px;</span>
        }
<span class="nc bnc" id="L96" title="All 2 branches missed.">        for (int y = 0; y &lt; alue.getPituusy(); y++) {</span>
<span class="nc bnc" id="L97" title="All 2 branches missed.">            for (int x = 0; x &lt; alue.getPituusx(); x++) {</span>
<span class="nc bnc" id="L98" title="All 6 branches missed.">                if (x &lt;= px &amp; y &lt;= py) {</span>
<span class="nc" id="L99">                    huone[x][y] = 1;</span>
                }
            }
        }
<span class="nc" id="L103">    }</span>

    private void yksinainen(Alue alue, int[][] huone) {
<span class="fc bfc" id="L106" title="All 6 branches covered.">        if (alue.getPituusx() == 0 | alue.getPituusy() == 0) {</span>
<span class="fc" id="L107">            huone[0][0] = 1;</span>
        } else {
<span class="fc" id="L109">            huone[alue.getPituusx() / 2][alue.getPituusy() / 2] = 1;</span>
        }
<span class="fc" id="L111">    }</span>

    private void ristikko(Alue alue, int[][] huone) {
<span class="pc bpc" id="L114" title="1 of 2 branches missed.">        for (int y = 1; y &lt; alue.getPituusy(); y++) {</span>
<span class="nc bnc" id="L115" title="All 2 branches missed.">            for (int x = 1; x &lt; alue.getPituusx(); x++) {</span>
<span class="nc bnc" id="L116" title="All 6 branches missed.">                if (y == alue.getPituusy() / 2 | x == alue.getPituusx() / 2) {</span>
<span class="nc" id="L117">                    huone[x][y] = 1;</span>
                }
            }
        }
<span class="fc" id="L121">    }</span>

    private void ympyra(Alue alue, int[][] huone) {
<span class="fc" id="L124">        int palax = alue.getPituusx() / 4;</span>
<span class="fc" id="L125">        int palay = alue.getPituusy() / 4;</span>
<span class="pc bpc" id="L126" title="1 of 2 branches missed.">        for (int y = 1; y &lt; alue.getPituusy(); y++) {</span>
<span class="nc bnc" id="L127" title="All 2 branches missed.">            for (int x = 1; x &lt; alue.getPituusx(); x++) {</span>
<span class="nc bnc" id="L128" title="All 10 branches missed.">                if (x &lt;= palax | y &lt;= palay | y &gt;= (alue.getPituusy() - palay) | x &gt;= (alue.getPituusx() - palay)) {</span>
<span class="nc" id="L129">                    huone[x][y] = 1;</span>
                }
            }
        }
<span class="fc" id="L133">    }</span>

    private void temppeli(Alue alue, int[][] huone) {
<span class="fc" id="L136">        ympyra(alue, huone);</span>
<span class="fc" id="L137">        ristikko(alue, huone);</span>
<span class="fc" id="L138">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>